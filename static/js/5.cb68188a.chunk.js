(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[5,9],{101:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(40),o=a(39),r=a(16),s=a(0),l=a.n(s),i=a(110),c=a.n(i),u=a(100),m=a(20),p=a.n(m),f=a(129),d=a.n(f),b=function(e){var t=e.label,a=e.fieldType,i=Object(r.a)(e,["label","fieldType"]),m=Object(u.d)(i),f=Object(o.a)(m,2),b=f[0],v=f[1];return Object(s.useEffect)((function(){var e;e=document.getElementsByClassName(c.a.simpleInput),"textarea"===a&&d()(e)})),l.a.createElement("div",{className:c.a.inputBox},!!t&&"checkbox"!==a&&l.a.createElement("label",{htmlFor:i.id||i.name},t),"checkbox"!==a&&l.a.createElement(u.a,Object.assign({rows:1,as:a,className:c.a.simpleInput},b,i)),"checkbox"===a&&l.a.createElement("div",{className:c.a.checkboxInput},l.a.createElement(u.a,Object.assign({type:"checkbox",checked:b.value},b,i)),l.a.createElement("label",{htmlFor:i.id||i.name},t)),!!i.maxLength&&l.a.createElement("div",{className:p()(c.a.maxLength,Object(n.a)({},c.a.error,b.value.length>=i.maxLength))},b.value.length,"/",i.maxLength),v.error&&v.touched?l.a.createElement("div",{className:c.a.fieldError},v.error):null)}},102:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(111),s=a.n(r),l=a(41),i=a.n(l);t.a=function(){return o.a.createElement("div",{className:s.a.preloader},o.a.createElement("img",{src:i.a,alt:"preloader"}))}},110:function(e,t,a){e.exports={inputBox:"CustomFormControls_inputBox__2M9DM",simpleInput:"CustomFormControls_simpleInput__3R0RT",maxLength:"CustomFormControls_maxLength__1jqRO",error:"CustomFormControls_error__bVcUE",fieldError:"CustomFormControls_fieldError__MVOSL",checkboxInput:"CustomFormControls_checkboxInput__xnNWt"}},111:function(e,t,a){e.exports={preloader:"PreloaderSmall_preloader__Yd-fv"}},113:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNzg0MTZGRTE3M0UxMUUzOTYyOEE4QkM2OUVGODdCNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNzg0MTZGRjE3M0UxMUUzOTYyOEE4QkM2OUVGODdCNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU3ODQxNkZDMTczRTExRTM5NjI4QThCQzY5RUY4N0I3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU3ODQxNkZEMTczRTExRTM5NjI4QThCQzY5RUY4N0I3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+b5NvTwAAADNQTFRF3t7e6urq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"},131:function(e,t,a){e.exports={errorContainer:"ErrorContent_errorContainer__3APXq",link:"ErrorContent_link__3CyHk"}},132:function(e,t,a){e.exports=a.p+"static/media/031-kitty-19.dc59c939.svg"},148:function(e,t,a){"use strict";a.r(t);var n=a(16),o=a(0),r=a.n(o),s=a(131),l=a.n(s),i=a(132),c=a.n(i),u=a(9);t.default=function(e){e.errorType;var t=e.h1,a=e.h2,o=e.linkUrl,s=e.linkText;Object(n.a)(e,["errorType","h1","h2","linkUrl","linkText"]);return r.a.createElement("div",{className:l.a.errorContainer},r.a.createElement("img",{src:c.a,alt:t}),r.a.createElement("h1",null,t),r.a.createElement("h2",null,a),r.a.createElement(u.b,{className:l.a.link,to:o},s))}},153:function(e,t,a){},154:function(e,t,a){e.exports={posts:"Posts_posts__kpFWu",newPost:"Posts_newPost__3DWrB"}},155:function(e,t,a){e.exports={post:"Post_post__3qxaw",avatar:"Post_avatar__1gkCt",postText:"Post_postText__3yGcH",buttons:"Post_buttons__2aoln",likesCount:"Post_likesCount__1kdt-",like:"Post_like__r3ohD",deletePost:"Post_deletePost__3GwFm"}},156:function(e,t,a){e.exports=a.p+"static/media/close.d36411f7.svg"},157:function(e,t,a){e.exports=a.p+"static/media/like-before.ff3e1f2f.svg"},158:function(e,t,a){e.exports=a.p+"static/media/like-after.700bcb2b.svg"},164:function(e,t,a){e.exports={modalContainer:"Modal_modalContainer__2no1k",modal:"Modal_modal__276LE",buttons:"Modal_buttons__3sTsI"}},165:function(e,t,a){e.exports={profileInfo:"ProfileInfo_profileInfo__R7UVs",photos:"ProfileInfo_photos__15bcU",avatar:"ProfileInfo_avatar__2ZiPs",img:"ProfileInfo_img__1tbs2",imgFormError:"ProfileInfo_imgFormError__2EIMt",description:"ProfileInfo_description__1UKiH"}},166:function(e,t,a){e.exports={statusBlock:"Status_statusBlock__2ivGl",preloaderContainer:"Status_preloaderContainer__3s4Xf"}},168:function(e,t,a){e.exports=a.p+"static/media/pencil-white.9a053c9f.svg"},169:function(e,t,a){e.exports={showProfileInfo:"ProfileData_showProfileInfo__1Lfef",showProfileInfoButton:"ProfileData_showProfileInfoButton__1NXXP",profileEditor:"ProfileData_profileEditor__15HbA",formGroup:"ProfileData_formGroup__-6HWY",inputBlock:"ProfileData_inputBlock__3hloa",group2:"ProfileData_group2__25w1n",group5:"ProfileData_group5__3cd6b",serverError:"ProfileData_serverError__21zEd",buttonCancel:"ProfileData_buttonCancel__1CWkr"}},170:function(e,t,a){e.exports={contact:"Contact_contact__1SuY0"}},171:function(e,t,a){e.exports=a.p+"static/media/github.192a6620.svg"},172:function(e,t,a){e.exports=a.p+"static/media/instagram.fc23b902.svg"},173:function(e,t,a){e.exports=a.p+"static/media/link.7928870a.svg"},174:function(e,t,a){e.exports=a.p+"static/media/facebook.c509a4c4.svg"},175:function(e,t,a){e.exports=a.p+"static/media/twitter.2ddca4c8.svg"},176:function(e,t,a){e.exports=a.p+"static/media/vkontakte.b03024c4.svg"},177:function(e,t,a){e.exports=a.p+"static/media/www.021854c6.svg"},178:function(e,t,a){e.exports=a.p+"static/media/youtube.fb35028c.svg"},194:function(e,t,a){"use strict";a.r(t);var n=a(25),o=a(26),r=a(28),s=a(27),l=a(16),i=a(0),c=a.n(i),u=a(153),m=a.n(u),p=a(39),f=a(154),d=a.n(f),b=a(155),v=a.n(b),h=a(156),g=a.n(h),E=a(157),k=a.n(E),P=a(158),A=a.n(P),x=a(113),L=a.n(x),I=c.a.memo((function(e){var t=e.postID,a=e.children,n=e.likesCount,o=e.userPhoto,r=e.isOwner,s=e.modalCallDeletePost,i=e.modalCallLikePost,u=e.likePost,m=e.dislikePost,p=e.liked,f=e.isAuth;Object(l.a)(e,["postID","children","likesCount","userPhoto","isOwner","modalCallDeletePost","modalCallLikePost","likePost","dislikePost","liked","isAuth"]);return c.a.createElement("div",{className:v.a.post},c.a.createElement("div",{className:v.a.avatar},c.a.createElement("img",{src:o||L.a,alt:"avatar"})),c.a.createElement("div",{className:v.a.postText,dangerouslySetInnerHTML:{__html:a}}),c.a.createElement("div",{className:v.a.buttons},c.a.createElement("p",{className:v.a.likesCount},n),!p&&!!f&&c.a.createElement("div",{title:"Like post",onClick:function(){return u(t)},className:v.a.like},c.a.createElement("img",{src:k.a,alt:"like"})),!!p&&!!f&&c.a.createElement("div",{title:"Disike post",onClick:function(){return m(t)},className:v.a.like},c.a.createElement("img",{src:A.a,alt:"dislike"})),!f&&c.a.createElement("div",{title:"Like post",onClick:i,className:v.a.like},c.a.createElement("img",{src:k.a,alt:"like"}))),r&&c.a.createElement("div",{title:"Delete post",onClick:function(){s(t)},className:v.a.deletePost},c.a.createElement("img",{src:g.a,alt:"Delete post"})))})),j=a(20),y=a.n(j),N=a(100),O=a(101),C=a(1),_=a.n(C),S=a(5),w=a(164),F=a.n(w),M=a(102),T=a(55),W=a(56),R=a(57),D=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={text:e.props.text||"Are you sure?",buttonSuccessText:e.props.buttonSuccessText||"Ok",buttonRejectText:e.props.buttonRejectText||"",callbackResolve:e.props.callbackResolve||null,callbackReject:e.props.callbackReject||null,callbackCancel:e.props.callbackCancel||null,modal:null,isLoading:!1},e.closeModalCallback=function(){e.props.setIsOpen(!1),e.state.modal.style.display="none"},e.cancelModal=function(){e.setState({isLoading:!0},Object(S.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.callbackCancel){t.next=3;break}return t.next=3,e.props.callbackCancel();case 3:Object(R.a)(e.state.modal,e.closeModalCallback);case 4:case"end":return t.stop()}}),t)}))))},e.resolveModal=Object(S.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isLoading:!0}),!e.state.callbackResolve){t.next=4;break}return t.next=4,e.state.callbackResolve();case 4:Object(R.a)(e.state.modal,e.closeModalCallback);case 5:case"end":return t.stop()}}),t)}))),e.rejectModal=Object(S.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isLoading:!0}),!e.state.callbackReject){t.next=4;break}return t.next=4,e.state.callbackReject();case 4:Object(R.a)(e.state.modal,e.closeModalCallback);case 5:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({modal:document.getElementsByClassName(F.a.modalContainer)[0]},(function(){Object(W.a)(e.state.modal)}))}},{key:"render",value:function(){return c.a.createElement("div",{className:F.a.modalContainer},c.a.createElement(T.a,{onClick:this.cancelModal}),c.a.createElement("div",{className:F.a.modal},c.a.createElement("span",null,this.state.text),c.a.createElement("div",{className:F.a.buttons},!!this.state.isLoading&&c.a.createElement(M.a,null),!!this.state.buttonSuccessText&&!this.state.isLoading&&c.a.createElement("div",{onClick:this.resolveModal,className:y()("button","button-success")},this.state.buttonSuccessText),!!this.state.buttonRejectText&&!this.state.isLoading&&c.a.createElement("div",{onClick:this.rejectModal,className:y()("button","button-normal")},this.state.buttonRejectText))))}}]),a}(c.a.PureComponent),G=c.a.memo((function(e){var t=e.posts,a=e.addPost,n=e.deletePost,o=e.likePost,r=e.dislikePost,s=e.likedPosts,u=e.userPhoto,m=e.isOwner,f=e.isAuth,b=(Object(l.a)(e,["posts","addPost","deletePost","likePost","dislikePost","likedPosts","userPhoto","isOwner","isAuth"]),Object(i.useState)(!1)),v=Object(p.a)(b,2),h=v[0],g=v[1],E=Object(i.useState)(!1),k=Object(p.a)(E,2),P=k[0],A=k[1],x=Object(i.useState)(null),L=Object(p.a)(x,2),j=L[0],C=L[1],_=function(e){g(!0),C(e)},S=function(){A(!0)};return c.a.createElement("div",{className:d.a.posts},h&&c.a.createElement(D,{text:"Are you sure you want to delete this post?",buttonSuccessText:"Yes",buttonRejectText:"No",callbackResolve:function(){return new Promise((function(e,t){return n(j),e(null)}))},isOpen:h,setIsOpen:g}),P&&c.a.createElement(D,{text:"To like this post you need to authorize. Want you go to login page?",buttonSuccessText:"Yes",buttonRejectText:"No",callbackResolve:function(){window.location.href="/login"},isOpen:P,setIsOpen:A}),c.a.createElement("h2",null,m?"My Posts":"Posts"),c.a.createElement("div",{className:d.a.newPost},m&&c.a.createElement(N.c,{initialValues:{post:""},onSubmit:function(e,t){e.post.length>0&&(a(e.post),t.resetForm())}},(function(e){return c.a.createElement(N.b,null,c.a.createElement(O.a,{fieldType:"textarea",name:"post",placeholder:"Type something clever :)",onKeyDown:function(t){"Enter"===t.key&&(t.shiftKey||(t.preventDefault(),e.handleSubmit()))}}),e.values.post.length>0&&c.a.createElement("button",{type:"submit",className:y()("button","button-success")},"Add post"))}))),c.a.createElement("div",null,t.map((function(e){return c.a.createElement(I,{isOwner:m,key:e.id,postID:e.id,likesCount:e.likesCount,userPhoto:u,modalCallDeletePost:_,modalCallLikePost:S,likePost:o,dislikePost:r,liked:s.some((function(t){return t===e.id})),isAuth:f},e.text)}))))})),U=a(53),Y=a(21),V=a(13),B=function(e){var t=Object(V.a)(e.postsPage.posts);return(t=t.reverse()).map((function(e){return e.text=e.text.replace(/(?:\r\n|\r|\n)/g,"<br />")})),t},J=function(e){return e.postsPage.likedPosts},X=a(35),Z=Object(Y.b)((function(e){return{posts:B(e),likedPosts:J(e),isAuth:Object(X.b)(e)}}),{addPost:U.a,deletePost:U.c,likePost:U.e,dislikePost:U.d})(G),z=a(165),H=a.n(z),q=a(166),Q=a.n(q),K=a(133),$=c.a.memo((function(e){var t=e.status,a=e.updateUserStatus,n=e.isOwner,o=e.isLoadingStatus,r=(Object(l.a)(e,["status","updateUserStatus","isOwner","isLoadingStatus"]),Object(i.useState)(!1)),s=Object(p.a)(r,2),u=s[0],m=s[1],f=Object(i.useState)(t),d=Object(p.a)(f,2),b=d[0],v=d[1],h=function(e){n&&m(e)};return Object(i.useEffect)((function(){v(t)}),[t]),c.a.createElement("div",null,!u&&!o&&c.a.createElement("div",{onClick:function(){return h(!0)},className:Q.a.statusBlock},c.a.createElement("span",null,t||"------")),!u&&!!o&&c.a.createElement("div",{className:Q.a.preloaderContainer},c.a.createElement(M.a,null)),u&&c.a.createElement(N.c,{initialValues:{status:b},validationSchema:K.a({status:K.b().max(300,"sdv")}),onSubmit:function(){var e=Object(S.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),e.next=3,a(t.status).catch((function(e){h(!0),n.setFieldError("general",e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){return c.a.createElement(N.b,null,c.a.createElement("div",{className:Q.a.statusBlock},c.a.createElement(O.a,{maxLength:300,fieldType:"textarea",name:"status",autoFocus:!0,onBlur:e.handleSubmit,onKeyDown:function(a){"Enter"===a.key&&(a.shiftKey||(a.preventDefault(),e.handleSubmit())),"Escape"===a.key&&(h(!1),v(t))}}),e.errors.general?c.a.createElement("div",null,e.errors.general):null))})))})),ee=a(168),te=a.n(ee),ae=a(169),ne=a.n(ae),oe=a(170),re=a.n(oe),se=a(171),le=a.n(se),ie=a(172),ce=a.n(ie),ue=a(173),me=a.n(ue),pe=a(174),fe=a.n(pe),de=a(175),be=a.n(de),ve=a(176),he=a.n(ve),ge=a(177),Ee=a.n(ge),ke=a(178),Pe=a.n(ke),Ae=function(e){var t,a=e.id,n=e.link,o=e.name;switch(o){case"github":t=le.a;break;case"vk":t=he.a;break;case"facebook":t=fe.a;break;case"instagram":t=ce.a;break;case"twitter":t=be.a;break;case"website":t=Ee.a;break;case"youtube":t=Pe.a;break;default:t=me.a}return c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:re.a.contact,key:a,href:"http://".concat(n)},c.a.createElement("img",{src:t,alt:o}))},xe=c.a.memo((function(e){var t=e.profile,a=(e.profileRef,e.isOwner),n=e.saveProfileInfo,o=e.isLoadingProfileInfoChanges,r=(Object(l.a)(e,["profile","profileRef","isOwner","saveProfileInfo","isLoadingProfileInfoChanges"]),Object(i.useState)(!1)),s=Object(p.a)(r,2),u=s[0],m=s[1],f=function(e){m(e)},d={};return Object.keys(t.contacts).forEach((function(e,t){d[e]=K.b().url("This url is not correct. The right example: https://google.com")})),c.a.createElement("div",null,!u&&c.a.createElement("div",{className:ne.a.showProfileInfo},c.a.createElement("span",null,c.a.createElement("b",null,"Looking for a job:")," ",c.a.createElement("p",null,!0===t.lookingForAJob?"yes":"no")),t.lookingForAJob&&c.a.createElement("span",null,c.a.createElement("b",null,"My skills:")," ",c.a.createElement("p",null,t.lookingForAJobDescription)),c.a.createElement("span",null,c.a.createElement("b",null,"About Me:")," ",c.a.createElement("p",null,t.aboutMe)),Object.keys(t.contacts).map((function(e,a){return t.contacts[e]&&c.a.createElement(Ae,{key:a,id:a,link:t.contacts[e],name:e})}))),a&&c.a.createElement(c.a.Fragment,null,!u&&c.a.createElement("button",{onClick:function(){return f(!0)},className:y()("button","button-normal","button-small",ne.a.showProfileInfoButton)},"Edit profile info"),u&&c.a.createElement(N.c,{initialValues:{fullName:t.fullName,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,aboutMe:t.aboutMe,contacts:t.contacts},validationSchema:K.a({fullName:K.b().required("Required"),contacts:K.a(d)}),onSubmit:function(e,t){n(e).then((function(){return window.scrollTop})).catch((function(e){t.setFieldError("general",e)}))}},(function(e){return c.a.createElement(N.b,{className:ne.a.profileEditor},c.a.createElement("div",{className:ne.a.formGroup},c.a.createElement("b",null,"Full Name:"),c.a.createElement("div",{className:ne.a.inputBlock},c.a.createElement(O.a,{id:"fullName",name:"fullName",fieldType:"input",maxLength:100}))),c.a.createElement("div",{className:y()(ne.a.formGroup,ne.a.group2)},c.a.createElement("b",null,"Looking for a job:"),c.a.createElement("div",{className:ne.a.inputBlock},c.a.createElement("div",{className:ne.a.inputBlock},c.a.createElement(O.a,{id:"lookingForAJob",name:"lookingForAJob",fieldType:"checkbox",label:"Yes"})))),c.a.createElement("div",{className:ne.a.formGroup},c.a.createElement("b",null,"My professional skills:"),c.a.createElement("div",{className:ne.a.inputBlock},c.a.createElement(O.a,{id:"lookingForAJobDescription",name:"lookingForAJobDescription",fieldType:"textarea"}))),c.a.createElement("div",{className:ne.a.formGroup},c.a.createElement("b",null,"About Me:"),c.a.createElement("div",{className:ne.a.inputBlock},c.a.createElement(O.a,{id:"aboutMe",name:"aboutMe",fieldType:"textarea"}))),c.a.createElement("div",{className:y()(ne.a.formGroup,ne.a.group5)},c.a.createElement("b",null,"Contacts:"),Object.keys(t.contacts).map((function(e,t){return c.a.createElement("div",{key:t,className:ne.a.inputBlock},c.a.createElement(O.a,{id:"contacts."+e,name:"contacts."+e,fieldType:"input",label:e}))}))),e.errors.general?c.a.createElement("div",{className:ne.a.serverError},e.errors.general):null,c.a.createElement("div",{className:ne.a.formGroup},!o&&c.a.createElement("button",{type:"submit",className:y()("button","button-success","button-small")},"Save changes"),!!o&&c.a.createElement(M.a,null),c.a.createElement("div",{onClick:function(){return f(!1)},className:y()("button","button-normal","button-small",ne.a.buttonCancel)},"Cancel")))}))))})),Le=a(33),Ie=c.a.memo((function(e){var t=e.profile,a=e.profileRef,n=e.status,o=e.isLoadingStatus,r=e.isLoadingProfileInfoChanges,s=e.isLoadingAvatar,i=e.updateUserStatus,u=e.isOwner,m=e.savePhoto,p=e.saveProfileInfo;Object(l.a)(e,["profile","profileRef","status","isLoadingStatus","isLoadingProfileInfoChanges","isLoadingAvatar","updateUserStatus","isOwner","savePhoto","saveProfileInfo"]);return c.a.createElement("div",{className:H.a.profileInfo},c.a.createElement("div",{className:H.a.photos},c.a.createElement(N.c,{initialValues:{avatar:null},onSubmit:function(e,t){m(e.avatar).catch((function(e){t.setFieldError("general",e)}))}},(function(e){return c.a.createElement(N.b,null,c.a.createElement("div",{className:H.a.avatar},s&&c.a.createElement(Le.a,null),!s&&c.a.createElement("div",{className:H.a.img,style:{backgroundImage:"url(".concat(t.photos.large||L.a,")")},alt:"avatar"}),u&&c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{id:"avatarEditor",name:"avatar",onChange:function(t){return e.handleSubmit(e.setFieldValue("avatar",t.currentTarget.files[0]))},type:"file"}),c.a.createElement("label",{htmlFor:"avatarEditor"},c.a.createElement("img",{src:te.a,alt:"edit avatar"})))),e.errors.general&&e.values.avatar&&c.a.createElement("div",{className:H.a.imgFormError},e.errors.general))}))),c.a.createElement("div",{className:H.a.description},c.a.createElement("h1",null,t.fullName),c.a.createElement($,{status:n,isLoadingStatus:o,updateUserStatus:i,isOwner:u}),c.a.createElement(xe,{isOwner:u,profile:t,isLoadingProfileInfoChanges:r,saveProfileInfo:p,profileRef:a})))})),je=a(148),ye=c.a.memo((function(e){var t=e.profile,a=e.isLoadingProfileInfoChanges,n=e.isLoadingAvatar,o=e.status,r=e.isLoadingStatus,s=e.updateUserStatus,i=e.isOwner,u=e.savePhoto,p=e.saveProfileInfo;Object(l.a)(e,["profile","isLoadingProfileInfoChanges","isLoadingAvatar","status","isLoadingStatus","updateUserStatus","isOwner","savePhoto","saveProfileInfo"]);return null===t?c.a.createElement(Le.a,null):void 0===t?c.a.createElement(je.default,{errorType:500,h1:"User not found",h2:"Sorry, we have lost this user, but... our best detectives are already looking for him!",linkUrl:"/users",linkText:"Get another try"}):c.a.createElement("div",{className:m.a.profile},c.a.createElement("div",null,c.a.createElement(Ie,{profile:t,isLoadingProfileInfoChanges:a,isLoadingAvatar:n,status:o,isLoadingStatus:r,updateUserStatus:s,isOwner:i,savePhoto:u,saveProfileInfo:p}),c.a.createElement(Z,{userPhoto:t.photos.large,isOwner:i})))})),Ne=a(52),Oe=a(4),Ce=a(14),_e=function(e){return e.profilePage.profile},Se=function(e){return e.profilePage.status},we=function(e){return e.profilePage.isLoadingStatus},Fe=function(e){return e.profilePage.isLoadingProfileInfoChanges},Me=function(e){return e.profilePage.isLoadingAvatar},Te=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).refreshProfile=function(){var t=e.props,a=t.getUserProfile,n=t.authUserId,o=e.props.match.params.userId;o||(o=n)||e.props.history.push("/login"),a(o)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){(e.match.params.userId!==this.props.match.params.userId||e.isAuth!==this.props.isAuth)&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(ye,{isOwner:!this.props.match.params.userId,profile:this.props.profile,isLoadingProfileInfoChanges:this.props.isLoadingProfileInfoChanges,saveProfileInfo:this.props.saveProfileInfo,status:this.props.status,isLoadingStatus:this.props.isLoadingStatus,updateUserStatus:this.props.updateUserStatus,isLoadingAvatar:this.props.isLoadingAvatar,savePhoto:this.props.savePhoto})}}]),a}(c.a.PureComponent);t.default=Object(Ce.d)(Object(Y.b)((function(e){return{profile:_e(e),status:Se(e),isLoadingStatus:we(e),isLoadingAvatar:Me(e),isLoadingProfileInfoChanges:Fe(e),isAuth:Object(X.b)(e),authUserId:Object(X.e)(e)}}),{getUserProfile:Ne.b,getUserStatus:Ne.c,updateUserStatus:Ne.f,savePhoto:Ne.d,saveProfileInfo:Ne.e}),Oe.g)(Te)}}]);
//# sourceMappingURL=5.cb68188a.chunk.js.map