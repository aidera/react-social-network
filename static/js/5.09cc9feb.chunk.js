(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[5,9],{208:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(58),o=a(204),r=a(55),s=a(0),l=a.n(s),i=a(229),c=a.n(i),u=a(199),m=a(26),p=a.n(m),f=a(253),d=a.n(f),b=function(e){var t=e.label,a=e.fieldType,i=Object(r.a)(e,["label","fieldType"]),m=Object(u.d)(i),f=Object(o.a)(m,2),b=f[0],v=f[1];return Object(s.useEffect)((function(){var e;e=document.getElementsByClassName(c.a.simpleInput),"textarea"===a&&d()(e)})),l.a.createElement("div",{className:c.a.inputBox},!!t&&"checkbox"!==a&&l.a.createElement("label",{htmlFor:i.id||i.name},t),"checkbox"!==a&&l.a.createElement(u.a,Object.assign({rows:1,as:a,className:c.a.simpleInput},b,i)),"checkbox"===a&&l.a.createElement("div",{className:c.a.checkboxInput},l.a.createElement(u.a,Object.assign({type:"checkbox",checked:b.value},b,i)),l.a.createElement("label",{htmlFor:i.id||i.name},t)),!!i.maxLength&&l.a.createElement("div",{className:p()(c.a.maxLength,Object(n.a)({},c.a.error,b.value.length>=i.maxLength))},b.value.length,"/",i.maxLength),v.error&&v.touched?l.a.createElement("div",{className:c.a.fieldError},v.error):null)}},209:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(230),s=a.n(r),l=a(63),i=a.n(l);t.a=function(){return o.a.createElement("div",{className:s.a.preloader},o.a.createElement("img",{src:i.a,alt:"preloader"}))}},212:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNzg0MTZGRTE3M0UxMUUzOTYyOEE4QkM2OUVGODdCNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNzg0MTZGRjE3M0UxMUUzOTYyOEE4QkM2OUVGODdCNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU3ODQxNkZDMTczRTExRTM5NjI4QThCQzY5RUY4N0I3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU3ODQxNkZEMTczRTExRTM5NjI4QThCQzY5RUY4N0I3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+b5NvTwAAADNQTFRF3t7e6urq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"},229:function(e,t,a){e.exports={inputBox:"CustomFormControls_inputBox__2M9DM",simpleInput:"CustomFormControls_simpleInput__3R0RT",maxLength:"CustomFormControls_maxLength__1jqRO",error:"CustomFormControls_error__bVcUE",fieldError:"CustomFormControls_fieldError__MVOSL",checkboxInput:"CustomFormControls_checkboxInput__xnNWt"}},230:function(e,t,a){e.exports={preloader:"PreloaderSmall_preloader__Yd-fv"}},232:function(e,t,a){e.exports={errorContainer:"ErrorContent_errorContainer__3APXq",link:"ErrorContent_link__3CyHk"}},233:function(e,t,a){e.exports=a.p+"static/media/031-kitty-19.dc59c939.svg"},254:function(e,t,a){"use strict";a.r(t);var n=a(55),o=a(0),r=a.n(o),s=a(232),l=a.n(s),i=a(233),c=a.n(i),u=a(15);t.default=function(e){e.errorType;var t=e.h1,a=e.h2,o=e.linkUrl,s=e.linkText;Object(n.a)(e,["errorType","h1","h2","linkUrl","linkText"]);return r.a.createElement("div",{className:l.a.errorContainer},r.a.createElement("img",{src:c.a,alt:t}),r.a.createElement("h1",null,t),r.a.createElement("h2",null,a),r.a.createElement(u.b,{className:l.a.link,to:o},s))}},272:function(e,t,a){},273:function(e,t,a){e.exports={posts:"Posts_posts__kpFWu",newPost:"Posts_newPost__3DWrB"}},274:function(e,t,a){e.exports={post:"Post_post__3qxaw",avatar:"Post_avatar__1gkCt",postText:"Post_postText__3yGcH",buttons:"Post_buttons__2aoln",likesCount:"Post_likesCount__1kdt-",like:"Post_like__r3ohD",deletePost:"Post_deletePost__3GwFm"}},275:function(e,t,a){e.exports=a.p+"static/media/close.d36411f7.svg"},276:function(e,t,a){e.exports=a.p+"static/media/like-before.ff3e1f2f.svg"},277:function(e,t,a){e.exports=a.p+"static/media/like-after.700bcb2b.svg"},283:function(e,t,a){e.exports={modalContainer:"Modal_modalContainer__2no1k",overlay:"Modal_overlay__2YN79",modal:"Modal_modal__276LE",buttons:"Modal_buttons__3sTsI"}},285:function(e,t,a){e.exports={profileInfo:"ProfileInfo_profileInfo__R7UVs",photos:"ProfileInfo_photos__15bcU",avatar:"ProfileInfo_avatar__2ZiPs",img:"ProfileInfo_img__1tbs2",imgFormError:"ProfileInfo_imgFormError__2EIMt",description:"ProfileInfo_description__1UKiH"}},286:function(e,t,a){e.exports={statusBlock:"Status_statusBlock__2ivGl",preloaderContainer:"Status_preloaderContainer__3s4Xf"}},288:function(e,t,a){e.exports=a.p+"static/media/pencil-white.9a053c9f.svg"},289:function(e,t,a){e.exports={showProfileInfo:"ProfileData_showProfileInfo__1Lfef",showProfileInfoButton:"ProfileData_showProfileInfoButton__1NXXP",profileEditor:"ProfileData_profileEditor__15HbA",formGroup:"ProfileData_formGroup__-6HWY",inputBlock:"ProfileData_inputBlock__3hloa",group2:"ProfileData_group2__25w1n",group5:"ProfileData_group5__3cd6b",serverError:"ProfileData_serverError__21zEd",buttonCancel:"ProfileData_buttonCancel__1CWkr"}},290:function(e,t,a){e.exports={contact:"Contact_contact__1SuY0"}},291:function(e,t,a){e.exports=a.p+"static/media/github.192a6620.svg"},292:function(e,t,a){e.exports=a.p+"static/media/instagram.fc23b902.svg"},293:function(e,t,a){e.exports=a.p+"static/media/link.7928870a.svg"},294:function(e,t,a){e.exports=a.p+"static/media/facebook.c509a4c4.svg"},295:function(e,t,a){e.exports=a.p+"static/media/twitter.2ddca4c8.svg"},296:function(e,t,a){e.exports=a.p+"static/media/vkontakte.b03024c4.svg"},297:function(e,t,a){e.exports=a.p+"static/media/www.021854c6.svg"},298:function(e,t,a){e.exports=a.p+"static/media/youtube.fb35028c.svg"},354:function(e,t,a){"use strict";a.r(t);var n=a(32),o=a(33),r=a(35),s=a(34),l=a(55),i=a(0),c=a.n(i),u=a(272),m=a.n(u),p=a(204),f=a(273),d=a.n(f),b=a(274),v=a.n(b),g=a(275),h=a.n(g),E=a(276),k=a.n(E),P=a(277),A=a.n(P),x=a(212),L=a.n(x),j=c.a.memo((function(e){var t=e.postID,a=e.children,n=e.likesCount,o=e.userPhoto,r=e.isOwner,s=e.modalCallDeletePost,i=e.modalCallLikePost,u=e.likePost,m=e.dislikePost,p=e.liked,f=e.isAuth;Object(l.a)(e,["postID","children","likesCount","userPhoto","isOwner","modalCallDeletePost","modalCallLikePost","likePost","dislikePost","liked","isAuth"]);return c.a.createElement("div",{className:v.a.post},c.a.createElement("div",{className:v.a.avatar},c.a.createElement("img",{src:o||L.a,alt:"avatar"})),c.a.createElement("div",{className:v.a.postText,dangerouslySetInnerHTML:{__html:a}}),c.a.createElement("div",{className:v.a.buttons},c.a.createElement("p",{className:v.a.likesCount},n),!p&&!!f&&c.a.createElement("div",{title:"Like post",onClick:function(){return u(t)},className:v.a.like},c.a.createElement("img",{src:k.a,alt:"like"})),!!p&&!!f&&c.a.createElement("div",{title:"Disike post",onClick:function(){return m(t)},className:v.a.like},c.a.createElement("img",{src:A.a,alt:"dislike"})),!f&&c.a.createElement("div",{title:"Like post",onClick:i,className:v.a.like},c.a.createElement("img",{src:k.a,alt:"like"}))),r&&c.a.createElement("div",{title:"Delete post",onClick:function(){s(t)},className:v.a.deletePost},c.a.createElement("img",{src:h.a,alt:"Delete post"})))})),y=a(26),I=a.n(y),N=a(199),O=a(208),_=a(3),C=a.n(_),S=a(6),w=a(283),F=a.n(w),M=a(284),T=a(209),W=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={text:e.props.text||"Are you sure?",buttonSuccessText:e.props.buttonSuccessText||"Ok",buttonRejectText:e.props.buttonRejectText||"",callbackResolve:e.props.callbackResolve||null,callbackReject:e.props.callbackReject||null,callbackCancel:e.props.callbackCancel||null,modal:null,isLoading:!1},e.showModal=function(){Object(M.a)({targets:e.state.modal,keyframes:[{opacity:0},{opacity:1}],duration:300,easing:"linear",loop:!1})},e.closeModal=function(){Object(M.a)({targets:e.state.modal,keyframes:[{opacity:1},{opacity:0}],duration:300,easing:"linear",loop:!1,complete:function(){e.props.setIsOpen(!1),e.state.modal.style.display="none"}})},e.cancelModal=function(){e.setState({isLoading:!0},Object(S.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.callbackCancel){t.next=3;break}return t.next=3,e.props.callbackCancel();case 3:e.closeModal();case 4:case"end":return t.stop()}}),t)}))))},e.resolveModal=Object(S.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isLoading:!0}),!e.state.callbackResolve){t.next=4;break}return t.next=4,e.state.callbackResolve();case 4:e.closeModal();case 5:case"end":return t.stop()}}),t)}))),e.rejectModal=Object(S.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isLoading:!0}),!e.state.callbackReject){t.next=4;break}return t.next=4,e.state.callbackReject();case 4:e.closeModal();case 5:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({modal:document.getElementsByClassName(F.a.modalContainer)[0]},(function(){e.showModal()}))}},{key:"render",value:function(){return c.a.createElement("div",{className:F.a.modalContainer},c.a.createElement("div",{onClick:this.cancelModal,className:F.a.overlay}),c.a.createElement("div",{className:F.a.modal},c.a.createElement("span",null,this.state.text),c.a.createElement("div",{className:F.a.buttons},!!this.state.isLoading&&c.a.createElement(T.a,null),!!this.state.buttonSuccessText&&!this.state.isLoading&&c.a.createElement("div",{onClick:this.resolveModal,className:I()("button","button-success")},this.state.buttonSuccessText),!!this.state.buttonRejectText&&!this.state.isLoading&&c.a.createElement("div",{onClick:this.rejectModal,className:I()("button","button-normal")},this.state.buttonRejectText))))}}]),a}(c.a.PureComponent),R=c.a.memo((function(e){var t=e.posts,a=e.addPost,n=e.deletePost,o=e.likePost,r=e.dislikePost,s=e.likedPosts,u=e.userPhoto,m=e.isOwner,f=e.isAuth,b=(Object(l.a)(e,["posts","addPost","deletePost","likePost","dislikePost","likedPosts","userPhoto","isOwner","isAuth"]),Object(i.useState)(!1)),v=Object(p.a)(b,2),g=v[0],h=v[1],E=Object(i.useState)(!1),k=Object(p.a)(E,2),P=k[0],A=k[1],x=Object(i.useState)(null),L=Object(p.a)(x,2),y=L[0],_=L[1],C=function(e){h(!0),_(e)},S=function(){A(!0)};return c.a.createElement("div",{className:d.a.posts},g&&c.a.createElement(W,{text:"Are you sure you want to delete this post?",buttonSuccessText:"Yes",buttonRejectText:"No",callbackResolve:function(){return new Promise((function(e,t){return n(y),e(null)}))},isOpen:g,setIsOpen:h}),P&&c.a.createElement(W,{text:"To like this post you need to authorize. Want you go to login page?",buttonSuccessText:"Yes",buttonRejectText:"No",callbackResolve:function(){window.location.href="/login"},isOpen:P,setIsOpen:A}),c.a.createElement("h2",null,m?"My Posts":"Posts"),c.a.createElement("div",{className:d.a.newPost},m&&c.a.createElement(N.c,{initialValues:{post:""},onSubmit:function(e,t){e.post.length>0&&(a(e.post),t.resetForm())}},(function(e){return c.a.createElement(N.b,null,c.a.createElement(O.a,{fieldType:"textarea",name:"post",placeholder:"Type something clever :)"}),e.values.post.length>0&&c.a.createElement("button",{type:"submit",className:I()("button","button-success")},"Add post"))}))),c.a.createElement("div",null,t.map((function(e){return c.a.createElement(j,{isOwner:m,key:e.id,postID:e.id,likesCount:e.likesCount,userPhoto:u,modalCallDeletePost:C,modalCallLikePost:S,likePost:o,dislikePost:r,liked:s.some((function(t){return t===e.id})),isAuth:f},e.text)}))))})),G=a(74),U=a(24),Y=a(17),D=function(e){var t=Object(Y.a)(e.postsPage.posts);return(t=t.reverse()).map((function(e){return e.text=e.text.replace(/(?:\r\n|\r|\n)/g,"<br />")})),t},V=function(e){return e.postsPage.likedPosts},B=a(49),J=Object(U.b)((function(e){return{posts:D(e),likedPosts:V(e),isAuth:Object(B.b)(e)}}),{addPost:G.a,deletePost:G.c,likePost:G.e,dislikePost:G.d})(R),X=a(285),Z=a.n(X),z=a(286),H=a.n(z),q=a(238),Q=c.a.memo((function(e){var t=e.status,a=e.updateUserStatus,n=e.isOwner,o=e.isLoadingStatus,r=(Object(l.a)(e,["status","updateUserStatus","isOwner","isLoadingStatus"]),Object(i.useState)(!1)),s=Object(p.a)(r,2),u=s[0],m=s[1],f=Object(i.useState)(t),d=Object(p.a)(f,2),b=d[0],v=d[1],g=function(e){n&&m(e)},h=function(e){"Escape"===e.key&&(g(!1),v(t))};return Object(i.useEffect)((function(){v(t)}),[t]),c.a.createElement("div",null,!u&&!o&&c.a.createElement("div",{onClick:function(){return g(!0)},className:H.a.statusBlock},c.a.createElement("span",null,t||"------")),!u&&!!o&&c.a.createElement("div",{className:H.a.preloaderContainer},c.a.createElement(T.a,null)),u&&c.a.createElement(N.c,{initialValues:{status:b},validationSchema:q.a({status:q.b().max(300,"sdv")}),onSubmit:function(){var e=Object(S.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),e.next=3,a(t.status).catch((function(e){g(!0),n.setFieldError("general",e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){return c.a.createElement(N.b,null,c.a.createElement("div",{className:H.a.statusBlock},c.a.createElement(O.a,{maxLength:300,onKeyDown:h,fieldType:"textarea",name:"status",autoFocus:!0,onBlur:e.handleSubmit}),e.errors.general?c.a.createElement("div",null,e.errors.general):null))})))})),K=a(288),$=a.n(K),ee=a(289),te=a.n(ee),ae=a(290),ne=a.n(ae),oe=a(291),re=a.n(oe),se=a(292),le=a.n(se),ie=a(293),ce=a.n(ie),ue=a(294),me=a.n(ue),pe=a(295),fe=a.n(pe),de=a(296),be=a.n(de),ve=a(297),ge=a.n(ve),he=a(298),Ee=a.n(he),ke=function(e){var t,a=e.id,n=e.link,o=e.name;switch(o){case"github":t=re.a;break;case"vk":t=be.a;break;case"facebook":t=me.a;break;case"instagram":t=le.a;break;case"twitter":t=fe.a;break;case"website":t=ge.a;break;case"youtube":t=Ee.a;break;default:t=ce.a}return c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:ne.a.contact,key:a,href:"http://".concat(n)},c.a.createElement("img",{src:t,alt:o}))},Pe=c.a.memo((function(e){var t=e.profile,a=e.profileRef,n=e.isOwner,o=e.saveProfileInfo,r=e.isLoadingProfileInfoChanges,s=(Object(l.a)(e,["profile","profileRef","isOwner","saveProfileInfo","isLoadingProfileInfoChanges"]),Object(i.useState)(!1)),u=Object(p.a)(s,2),m=u[0],f=u[1],d=function(e){window.scrollTo(20,e.current.offsetTop)},b=function(e){d(a),f(e)},v={};return Object.keys(t.contacts).forEach((function(e,t){v[e]=q.b().url("This url is not correct. The right example: https://google.com")})),c.a.createElement("div",null,!m&&c.a.createElement("div",{className:te.a.showProfileInfo},c.a.createElement("span",null,c.a.createElement("b",null,"Looking for a job:")," ",c.a.createElement("p",null,!0===t.lookingForAJob?"yes":"no")),t.lookingForAJob&&c.a.createElement("span",null,c.a.createElement("b",null,"My skills:")," ",c.a.createElement("p",null,t.lookingForAJobDescription)),c.a.createElement("span",null,c.a.createElement("b",null,"About Me:")," ",c.a.createElement("p",null,t.aboutMe)),Object.keys(t.contacts).map((function(e,a){return t.contacts[e]&&c.a.createElement(ke,{key:a,id:a,link:t.contacts[e],name:e})}))),n&&c.a.createElement(c.a.Fragment,null,!m&&c.a.createElement("button",{onClick:function(){return b(!0)},className:I()("button","button-normal","button-small",te.a.showProfileInfoButton)},"Edit profile info"),m&&c.a.createElement(N.c,{initialValues:{fullName:t.fullName,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,aboutMe:t.aboutMe,contacts:t.contacts},validationSchema:q.a({fullName:q.b().required("Required"),contacts:q.a(v)}),onSubmit:function(e,t){o(e).then((function(){d(a)})).catch((function(e){t.setFieldError("general",e)}))}},(function(e){return c.a.createElement(N.b,{className:te.a.profileEditor},c.a.createElement("div",{className:te.a.formGroup},c.a.createElement("b",null,"Full Name:"),c.a.createElement("div",{className:te.a.inputBlock},c.a.createElement(O.a,{id:"fullName",name:"fullName",fieldType:"input",maxLength:100}))),c.a.createElement("div",{className:I()(te.a.formGroup,te.a.group2)},c.a.createElement("b",null,"Looking for a job:"),c.a.createElement("div",{className:te.a.inputBlock},c.a.createElement("div",{className:te.a.inputBlock},c.a.createElement(O.a,{id:"lookingForAJob",name:"lookingForAJob",fieldType:"checkbox",label:"Yes"})))),c.a.createElement("div",{className:te.a.formGroup},c.a.createElement("b",null,"My professional skills:"),c.a.createElement("div",{className:te.a.inputBlock},c.a.createElement(O.a,{id:"lookingForAJobDescription",name:"lookingForAJobDescription",fieldType:"textarea"}))),c.a.createElement("div",{className:te.a.formGroup},c.a.createElement("b",null,"About Me:"),c.a.createElement("div",{className:te.a.inputBlock},c.a.createElement(O.a,{id:"aboutMe",name:"aboutMe",fieldType:"textarea"}))),c.a.createElement("div",{className:I()(te.a.formGroup,te.a.group5)},c.a.createElement("b",null,"Contacts:"),Object.keys(t.contacts).map((function(e,t){return c.a.createElement("div",{key:t,className:te.a.inputBlock},c.a.createElement(O.a,{id:"contacts."+e,name:"contacts."+e,fieldType:"input",label:e}))}))),e.errors.general?c.a.createElement("div",{className:te.a.serverError},e.errors.general):null,c.a.createElement("div",{className:te.a.formGroup},!r&&c.a.createElement("button",{type:"submit",className:I()("button","button-success","button-small")},"Save changes"),!!r&&c.a.createElement(T.a,null),c.a.createElement("div",{onClick:function(){return b(!1)},className:I()("button","button-normal","button-small",te.a.buttonCancel)},"Cancel")))}))))})),Ae=a(45),xe=c.a.memo((function(e){var t=e.profile,a=e.profileRef,n=e.status,o=e.isLoadingStatus,r=e.isLoadingProfileInfoChanges,s=e.isLoadingAvatar,u=e.updateUserStatus,m=e.isOwner,f=e.savePhoto,d=e.saveProfileInfo,b=(Object(l.a)(e,["profile","profileRef","status","isLoadingStatus","isLoadingProfileInfoChanges","isLoadingAvatar","updateUserStatus","isOwner","savePhoto","saveProfileInfo"]),Object(i.useState)(0)),v=Object(p.a)(b,2),g=v[0],h=v[1];return Object(i.useEffect)((function(){var e=0;Object.keys(t.contacts).forEach((function(a,n){null!=t.contacts[a]&&e++})),h(e)}),[t.contacts,g]),c.a.createElement("div",{className:Z.a.profileInfo},c.a.createElement("div",{className:Z.a.photos},c.a.createElement(N.c,{initialValues:{avatar:null},onSubmit:function(e,t){f(e.avatar).catch((function(e){t.setFieldError("general",e)}))}},(function(e){return c.a.createElement(N.b,null,c.a.createElement("div",{className:Z.a.avatar},s&&c.a.createElement(Ae.a,null),!s&&c.a.createElement("div",{className:Z.a.img,style:{backgroundImage:"url(".concat(t.photos.large||L.a,")")},alt:"avatar"}),m&&c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{id:"avatarEditor",name:"avatar",onChange:function(t){return e.handleSubmit(e.setFieldValue("avatar",t.currentTarget.files[0]))},type:"file"}),c.a.createElement("label",{htmlFor:"avatarEditor"},c.a.createElement("img",{src:$.a,alt:"edit avatar"})))),e.errors.general&&e.values.avatar&&c.a.createElement("div",{className:Z.a.imgFormError},e.errors.general))}))),c.a.createElement("div",{className:Z.a.description},c.a.createElement("h1",null,t.fullName),c.a.createElement(Q,{status:n,isLoadingStatus:o,updateUserStatus:u,isOwner:m}),c.a.createElement(Pe,{isOwner:m,profile:t,isLoadingProfileInfoChanges:r,saveProfileInfo:d,profileRef:a})))})),Le=a(254),je=c.a.memo((function(e){var t=e.profile,a=e.isLoadingProfileInfoChanges,n=e.isLoadingAvatar,o=e.status,r=e.isLoadingStatus,s=e.updateUserStatus,i=e.isOwner,u=e.savePhoto,p=e.saveProfileInfo;Object(l.a)(e,["profile","isLoadingProfileInfoChanges","isLoadingAvatar","status","isLoadingStatus","updateUserStatus","isOwner","savePhoto","saveProfileInfo"]);if(null===t)return c.a.createElement(Ae.a,null);if(void 0===t)return c.a.createElement(Le.default,{errorType:500,h1:"User not found",h2:"Sorry, we have lost this user, but... our best detectives are already looking for him!",linkUrl:"/users",linkText:"Get another try"});var f=c.a.createRef();return c.a.createElement("div",{className:m.a.profile,ref:f},c.a.createElement("div",null,c.a.createElement(xe,{profile:t,isLoadingProfileInfoChanges:a,isLoadingAvatar:n,status:o,isLoadingStatus:r,updateUserStatus:s,isOwner:i,savePhoto:u,saveProfileInfo:p,profileRef:f}),c.a.createElement(J,{userPhoto:t.photos.large,isOwner:i})))})),ye=a(73),Ie=a(5),Ne=a(16),Oe=function(e){return e.profilePage.profile},_e=function(e){return e.profilePage.status},Ce=function(e){return e.profilePage.isLoadingStatus},Se=function(e){return e.profilePage.isLoadingProfileInfoChanges},we=function(e){return e.profilePage.isLoadingAvatar},Fe=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).refreshProfile=function(){var t=e.props,a=t.getUserProfile,n=t.authUserId,o=e.props.match.params.userId;o||(o=n)||e.props.history.push("/login"),a(o)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){(e.match.params.userId!==this.props.match.params.userId||e.isAuth!==this.props.isAuth)&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(je,{isOwner:!this.props.match.params.userId,profile:this.props.profile,isLoadingProfileInfoChanges:this.props.isLoadingProfileInfoChanges,saveProfileInfo:this.props.saveProfileInfo,status:this.props.status,isLoadingStatus:this.props.isLoadingStatus,updateUserStatus:this.props.updateUserStatus,isLoadingAvatar:this.props.isLoadingAvatar,savePhoto:this.props.savePhoto})}}]),a}(c.a.PureComponent);t.default=Object(Ne.d)(Object(U.b)((function(e){return{profile:Oe(e),status:_e(e),isLoadingStatus:Ce(e),isLoadingAvatar:we(e),isLoadingProfileInfoChanges:Se(e),isAuth:Object(B.b)(e),authUserId:Object(B.e)(e)}}),{getUserProfile:ye.b,getUserStatus:ye.c,updateUserStatus:ye.f,savePhoto:ye.d,saveProfileInfo:ye.e}),Ie.g)(Fe)}}]);
//# sourceMappingURL=5.09cc9feb.chunk.js.map